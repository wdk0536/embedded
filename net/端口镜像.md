#### 端口镜像

**定义**

镜像是指经过**指定端口**（源端口和镜像端口）的**报文**复制一份到另一个**指定端口**（目的端口或者观察端口）

**为什么使用镜像**

在网络维护和运营中，为了便于业务监控和故障定位，网络管理员经常**获取设备上的报文进行分析**

镜像可以在不影响设备对报文进行处理的情况下，顺便将镜像端口的报文复制到观察端口，网络管理员可以通过网络监控设备可以分析从观察端口复制过来的报文，判断网络运行的业务是否正常。

**镜像基本概念**

通过图一介绍镜像的基本概念

![1](D:\0-WorkSpace\学习\git\net\1.jpg)

**镜像端口**：是指被监控的端口，镜像端口**收发的报文**将被复制一份 到观察端口

**观察端口**：是指连接监控设备的端口，用于将镜像端口复制过来的报文发送监控设备



**镜像方向**：是指将**镜像端口指定方向的报文**复制到观察端口

​	**入方向**：镜像端口接收的报文复制到观察端口上

​	**出方向**：镜像端口发送的报文复制到观察端口上

​	**双向**：端口镜像接收和发送的报文复制到观察端口上



**端口镜像**：镜像端口报文复制到观察端口上，观察端口把从镜像端口复制过来的报文发送到监控设备的流程。



**端口镜像分类标准**：监控设备在网络位置的不同（**观察端口和网络设备是否直连**），分为本地端口和远程端口镜像



**本地端口**：是指观察端口与监控设备直接相连，此时观察端口称为本地观察端口。

​	![2](D:\0-WorkSpace\学习\git\net\2.jpg)

**远程端口镜像**：观察端口于监控设备通过中间网络传输镜像报文，此时观察端口成为远程观察端口

**二层远程端口镜像**：观察端口与监控设备通过二层网络设备直连，![3](D:\0-WorkSpace\学习\git\net\3.jpg)





**参考**：

​	http://www.360doc.com/content/18/0802/09/11935121_775086587.shtml

​	https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3%E9%95%9C%E5%83%8F/10714275?fr=aladdin

